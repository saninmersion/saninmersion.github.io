<!doctype html>
<html data-n-head-ssr>
  <head>
    <title>Global Loader Component using Vue.js and Axios Interceptors - Sandip Shrestha</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta data-n-head="ssr" name="msapplication-TileColor" content="#ffffff"><meta data-n-head="ssr" name="msapplication-TileImage" content="/favicons/mstile-144x144.png"><meta data-n-head="ssr" name="theme-color" content="#272343"><meta data-n-head="ssr" name="robots" content="index, follow"><meta data-n-head="ssr" name="googlebot" content="index, follow"><meta data-n-head="ssr" name="twitter:card" content="summary_large_image"><meta data-n-head="ssr" name="twitter:site" content="@san_inmersion"><meta data-n-head="ssr" property="og:type" content="profile"><meta data-n-head="ssr" property="og:updated_time" content="2020-05-16T14:22:43.560Z"><meta data-n-head="ssr" name="author" content="Sandip Shrestha"><meta data-n-head="ssr" name="description" property="og:description" content="Making of a global loader component that will be invoked from anywhere in the app while making ajax calls using Axios interceptors." data-hid="description"><meta data-n-head="ssr" property="og:title" content="Global Loader Component using Vue.js and Axios Interceptors"><meta data-n-head="ssr" property="og:image" content="/uploads/hourglass.jpg"><meta data-n-head="ssr" name="twitter:description" content="Making of a global loader component that will be invoked from anywhere in the app while making ajax calls using Axios interceptors."><meta data-n-head="ssr" name="twitter:image" content="/uploads/hourglass.jpg"><link data-n-head="ssr" rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16"><link data-n-head="ssr" rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32"><link data-n-head="ssr" rel="icon" type="image/png" href="/favicons/android-chrome-96x96.png" sizes="96x96"><link data-n-head="ssr" rel="icon" type="image/png" href="/favicons/android-chrome-192x192.png" sizes="192x192"><link data-n-head="ssr" rel="apple-touch-icon" href="/favicons/apple-touch-icon-57x57.png" sizes="57x57"><link data-n-head="ssr" rel="apple-touch-icon" href="/favicons/apple-touch-icon-60x60.png" sizes="60x60"><link data-n-head="ssr" rel="apple-touch-icon" href="/favicons/apple-touch-icon-72x72.png" sizes="72x72"><link data-n-head="ssr" rel="apple-touch-icon" href="/favicons/apple-touch-icon-76x76.png" sizes="76x76"><link data-n-head="ssr" rel="apple-touch-icon" href="/favicons/apple-touch-icon-114x114.png" sizes="114x114"><link data-n-head="ssr" rel="apple-touch-icon" href="/favicons/apple-touch-icon-120x120.png" sizes="120x120"><link data-n-head="ssr" rel="apple-touch-icon" href="/favicons/apple-touch-icon-144x144.png" sizes="144x144"><link data-n-head="ssr" rel="apple-touch-icon" href="/favicons/apple-touch-icon-152x152.png" sizes="152x152"><link data-n-head="ssr" rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicons/favicon.ico"><link data-n-head="ssr" rel="canonical" href="https://codeburst.io/global-loader-component-using-vue-js-and-axios-interceptors-3880a136a4ac"><link rel="preload" href="/_nuxt/3213b8a640c84a0f40dd.js" as="script"><link rel="preload" href="/_nuxt/ef795ee9faac29d34ba2.js" as="script"><link rel="preload" href="/_nuxt/286c9011147357c678b8.js" as="script"><link rel="preload" href="/_nuxt/b356b1a74ade292a0927.js" as="script"><link rel="preload" href="/_nuxt/c60fc827688ff7bac84d.js" as="script"><style data-vue-ssr-id="38dfa7e4:0 87aa1208:0 87aa1208:1 9b3ab808:0 3191d5ad:0 932a8f60:0 32638744:0">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}a{background-color:transparent}strong{font-weight:bolder}img{border-style:none}button,input,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}[hidden],template{display:none}h1,h2,h3,h4,h5,p{margin:0}button{background-color:transparent;background-image:none;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}ul{list-style:none;margin:0;padding:0}html{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,Helvetica Neue,Arial,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e0e0e0}img{border-style:solid}textarea{resize:vertical}input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{color:#a0aec0}input::-moz-placeholder,textarea::-moz-placeholder{color:#a0aec0}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#a0aec0}input::-ms-input-placeholder,textarea::-ms-input-placeholder{color:#a0aec0}input::placeholder,textarea::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}h1,h2,h3,h4,h5{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,select,textarea{padding:0;line-height:inherit;color:inherit}img,svg{display:block;vertical-align:middle}img{max-width:100%;height:auto}.container{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px;padding-right:2rem;padding-left:2rem}}@media (min-width:1024px){.container{max-width:1024px;padding-right:4rem;padding-left:4rem}}@media (min-width:1280px){.container{max-width:1280px;padding-right:5rem;padding-left:5rem}}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.bg-transparent{background-color:transparent}.bg-black{--bg-opacity:1;background-color:#000;background-color:rgba(0,0,0,var(--bg-opacity))}.bg-white{--bg-opacity:1;background-color:#fffffe;background-color:rgba(255,255,254,var(--bg-opacity))}.bg-primary{--bg-opacity:1;background-color:#bae8e8;background-color:rgba(186,232,232,var(--bg-opacity))}.hover\:bg-gray-700:hover{--bg-opacity:1;background-color:#616161;background-color:rgba(97,97,97,var(--bg-opacity))}.hover\:bg-gray-900:hover{--bg-opacity:1;background-color:#212121;background-color:rgba(33,33,33,var(--bg-opacity))}.bg-center{background-position:50%}.bg-no-repeat{background-repeat:no-repeat}.bg-cover{background-size:cover}.border-black{--border-opacity:1;border-color:#000;border-color:rgba(0,0,0,var(--border-opacity))}.border-gray-900{--border-opacity:1;border-color:#212121;border-color:rgba(33,33,33,var(--border-opacity))}.rounded-full{border-radius:9999px}.border-0{border-width:0}.border-2{border-width:2px}.border-t{border-top-width:1px}.border-b{border-bottom-width:1px}.cursor-pointer{cursor:pointer}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.hidden{display:none}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.flex-shrink-0{flex-shrink:0}.float-right{float:right}.font-sans{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,Helvetica Neue,Arial,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.font-normal{font-weight:400}.font-semibold{font-weight:600}.font-bold{font-weight:700}.font-extrabold{font-weight:800}.h-1{height:.25rem}.h-8{height:2rem}.h-10{height:2.5rem}.h-auto{height:auto}.h-full{height:100%}.text-sm{font-size:.875rem}.text-4xl{font-size:2.25rem}.leading-relaxed{line-height:1.625}.leading-loose{line-height:2}.list-none{list-style-type:none}.m-0{margin:0}.my-0{margin-top:0;margin-bottom:0}.mx-1{margin-left:.25rem;margin-right:.25rem}.my-8{margin-top:2rem;margin-bottom:2rem}.mx-auto{margin-left:auto;margin-right:auto}.-mx-2{margin-left:-.5rem;margin-right:-.5rem}.-mx-4{margin-left:-1rem;margin-right:-1rem}.mb-0{margin-bottom:0}.mr-2{margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mr-3{margin-right:.75rem}.mr-4{margin-right:1rem}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.mb-6{margin-bottom:1.5rem}.mt-8{margin-top:2rem}.mb-8{margin-bottom:2rem}.mt-10{margin-top:2.5rem}.mb-10{margin-bottom:2.5rem}.mb-12{margin-bottom:3rem}.mb-16{margin-bottom:4rem}.mb-20{margin-bottom:5rem}.mb-24{margin-bottom:6rem}.max-w-sm{max-width:24rem}.max-w-xl{max-width:36rem}.max-w-2xl{max-width:42rem}.max-w-6xl{max-width:72rem}.object-cover{-o-object-fit:cover;object-fit:cover}.object-left-top{-o-object-position:left top;object-position:left top}.opacity-75{opacity:.75}.outline-none{outline:0}.overflow-hidden{overflow:hidden}.p-0{padding:0}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-20{padding-top:5rem;padding-bottom:5rem}.pb-1{padding-bottom:.25rem}.pl-12{padding-left:3rem}.placeholder-black::-webkit-input-placeholder{--placeholder-opacity:1;color:#000;color:rgba(0,0,0,var(--placeholder-opacity))}.placeholder-black::-moz-placeholder{--placeholder-opacity:1;color:#000;color:rgba(0,0,0,var(--placeholder-opacity))}.placeholder-black:-ms-input-placeholder{--placeholder-opacity:1;color:#000;color:rgba(0,0,0,var(--placeholder-opacity))}.placeholder-black::-ms-input-placeholder{--placeholder-opacity:1;color:#000;color:rgba(0,0,0,var(--placeholder-opacity))}.placeholder-black::placeholder{--placeholder-opacity:1;color:#000;color:rgba(0,0,0,var(--placeholder-opacity))}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:-webkit-sticky;position:sticky}.top-0{top:0}.right-0{right:0}.bottom-0{bottom:0}.left-0{left:0}.resize-none{resize:none}.shadow-md{box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06)}.shadow-2xl{box-shadow:0 25px 50px -12px rgba(0,0,0,.25)}.text-left{text-align:left}.text-center{text-align:center}.text-black{--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity))}.text-white{--text-opacity:1;color:#fffffe;color:rgba(255,255,254,var(--text-opacity))}.text-gray-600{--text-opacity:1;color:#757575;color:rgba(117,117,117,var(--text-opacity))}.text-gray-700{--text-opacity:1;color:#616161;color:rgba(97,97,97,var(--text-opacity))}.hover\:text-white:hover{--text-opacity:1;color:#fffffe;color:rgba(255,255,254,var(--text-opacity))}.hover\:text-secondary:hover{--text-opacity:1;color:#272343;color:rgba(39,35,67,var(--text-opacity))}.uppercase{text-transform:uppercase}.underline{text-decoration:underline}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.tracking-wide{letter-spacing:.025em}.tracking-wider{letter-spacing:.05em}.w-8{width:2rem}.w-10{width:2.5rem}.w-full{width:100%}.z-10{z-index:10}.z-20{z-index:20}.transform{--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y))}.transition{transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-300{transition-duration:.3s}@media (min-width:768px){.md\:flex-row{flex-direction:row}.md\:flex-no-wrap{flex-wrap:nowrap}.md\:h-12{height:3rem}.md\:text-5xl{font-size:3rem}.md\:text-6xl{font-size:4rem}.md\:my-12{margin-top:3rem;margin-bottom:3rem}.md\:mb-8{margin-bottom:2rem}.md\:mb-24{margin-bottom:6rem}.md\:p-4{padding:1rem}.md\:pr-40{padding-right:10rem}.md\:w-12{width:3rem}.md\:w-1\/2{width:50%}.md\:w-1\/3{width:33.333333%}.md\:w-3\/4{width:75%}.md\:w-2\/5{width:40%}.md\:w-3\/5{width:60%}}html{font-size:100%}body{background-color:#fff;font-family:Sintony,sans-serif;font-weight:400;line-height:1.65;color:#333}p{margin-bottom:1.15rem}h1,h2,h3,h4,h5{margin:2.75rem 0 1.05rem;font-family:Source Sans Pro,sans-serif;font-weight:700;line-height:1.15}h1{font-size:3.052em}h2{font-size:2.441em}h3{font-size:1.953em}h4{font-size:1.563em}h5{font-size:1.25em}.markdown{--text-opacity:1;color:#212121;color:rgba(33,33,33,var(--text-opacity));line-height:1.5;word-wrap:break-word}.markdown>*+*{margin-top:0;margin-bottom:1rem}.markdown li+li{margin-top:.25rem}.markdown li>p+p{margin-top:1.5rem}.markdown a,.markdown strong{font-weight:600}.markdown a{--text-opacity:1;color:#3182ce;color:rgba(49,130,206,var(--text-opacity))}.markdown strong a{font-weight:700}.markdown img{margin-left:auto;margin-right:auto}.markdown h1{font-size:2.25rem}.markdown h1,.markdown h2{line-height:1.25;border-bottom-width:1px;font-weight:600;margin-bottom:1rem;margin-top:1.5rem;padding-bottom:.5rem}.markdown h2{font-size:1.5rem}.markdown h3{line-height:1.375;font-size:1.125rem}.markdown h3,.markdown h4{font-weight:600;margin-bottom:1rem;margin-top:1.5rem}.markdown h4{line-height:1;font-size:1rem}.markdown h5{line-height:1.25;font-size:.875rem;font-weight:600;margin-bottom:1rem;margin-top:1.5rem}.markdown ul{font-size:1rem;padding-left:2rem;list-style-type:disc}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#fff;z-index:999999}.main-container{transform:translateX(0);transition:transform .5s cubic-bezier(.07,.23,.34,1)}.main-container.drawer-open{transform:translateX(-200px)}.nuxt-link-exact-active[data-v-56552e09]{color:#fff;background:#000}.nav-drawer[data-v-56552e09]{transform:translateX(100%);transition:transform .5s cubic-bezier(.07,.23,.34,1)}.nav-drawer.open[data-v-56552e09]{transform:translateX(0)}.nav-drawer.open a[data-v-56552e09]{-webkit-animation:slide-in-data-v-56552e09 .4s .2s backwards;animation:slide-in-data-v-56552e09 .4s .2s backwards}.nav-drawer.open li:nth-of-type(2) a[data-v-56552e09]{-webkit-animation-delay:.3s;animation-delay:.3s}.nav-drawer.open li:nth-of-type(3) a[data-v-56552e09]{-webkit-animation-delay:.4s;animation-delay:.4s}.nav-drawer.open li:nth-of-type(4) a[data-v-56552e09]{-webkit-animation-delay:.5s;animation-delay:.5s}.nav-drawer.open li:nth-of-type(5) a[data-v-56552e09]{-webkit-animation-delay:.6s;animation-delay:.6s}@-webkit-keyframes slide-in-data-v-56552e09{0%{opacity:0;transform:translateX(80px)}to{opacity:1;transform:translateX(0)}}@keyframes slide-in-data-v-56552e09{0%{opacity:0;transform:translateX(80px)}to{opacity:1;transform:translateX(0)}}.close.icon[data-v-56552e09]{width:44px;height:44px;right:40px;top:40px}.close.icon[data-v-56552e09]:before{transform:rotate(-45deg)}.close.icon[data-v-56552e09]:after,.close.icon[data-v-56552e09]:before{content:"";position:absolute;top:10px;width:44px;height:4px;background-color:#000}.close.icon[data-v-56552e09]:after{transform:rotate(45deg)}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="w-full antialiased" style="background-color:#fffffe"><div class="relative main-container"><header class="bg-white left-0 sticky top-0 w-full z-10 mb-0 md:mb-8 shadow-md"><div class="container"><div class="mx-auto max-w-6xl"><nav class="flex items-center justify-between flex-wrap py-6"><a href="/"><div class="flex items-center flex-shrink-0 text-white"><h4 class="m-0 p-0 text-black">Sandip Shrestha</h4></div></a> <div class="flex items-center cursor-pointer"><span><img src="/_nuxt/img/c159867.svg" alt="Menu Toggle" class="w-10 h-10 mr-3"></span> <span class="text-black font-bold uppercase">Menu</span></div></nav></div></div></header> <div class="container"><div class="mx-auto max-w-6xl mb-16"><div><h1 class="text-4xl md:text-5xl">Global Loader Component using Vue.js and Axios Interceptors</h1> <p class="text-gray-700">Making of a global loader component that will be invoked from anywhere in the app while making ajax calls using Axios interceptors.</p> <div class="flex items-center"><span class="block w-8 h-8 md:w-12 md:h-12 rounded-full border-2 overflow-hidden mr-2"><img src="/_nuxt/img/fb5252b.jpg" class="w-full h-full object-cover"></span> <div class="text-sm"><div><strong>Sandip Shrestha</strong></div> <div class="text-gray-700"><span>31 July, 2019</span> <span class="text-gray-600 font-bold mx-1"> | </span> <span>4 minutes read</span></div></div></div> <img src="/uploads/hourglass.jpg" alt="Global Loader Component using Vue.js and Axios Interceptors" class="w-full object-cover object-left-top shadow-2xl my-0 md:my-12" style="max-height:500px"></div> <div class="markdown my-8 w-full md:w-3/4"><p>We are always optimizing our web pages and applications to open in a zippy. But, sometimes, it is necessary to let the users wait for a brief moment for all the data and pages to load. We will need something to get the users' attention and keep them on the site long enough for all the content to load or to notify them that work is being done in the background.
One way to do that is by showing a beautiful, engaging and informative loading animation or loading gif in the website whenever background tasks are running.</p>
<h2>Loader Component</h2>
<p><img src="/uploads/loader.gif" alt=""></p>
<p>Below is the code for a simple Loader component in vue. We have two states isVisible to show/hide the loader and text to define the loading text.</p>
<pre><code>// Loader Component

&lt;template>
    &lt;div v-if="isVisible" class="loader-overlay">
        &lt;div class="loader">&lt;/div>
        &lt;span class="text" v-html="text">&lt;/span>
    &lt;/div>
&lt;/template>

&lt;script>
    export default {
        name: "Loader",
        props: {
            isVisible: {type: Boolean, required: true},
            text: {type: String, required: false, default: ""},
        },
}
&lt;/script>

&lt;style lang="scss">
    .loader-overlay {
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 999;
        cursor: pointer;
        span.text {
            display: inline-block;
            position: relative;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
            color: #fff;
        }
        .loader {
            animation: loader-animate 1.5s linear infinite;
            clip: rect(0, 80px, 80px, 40px);
            height: 80px;
            width: 80px;
            position: absolute;
            left: calc(50% - 40px);
            top: calc(50% - 40px);
            &:after {
                animation: loader-animate-after 1.5s ease-in-out infinite;
                clip: rect(0, 80px, 80px, 40px);
                content: '';
                border-radius: 50%;
                height: 80px;
                width: 80px;
                position: absolute;
            }
        }
        @keyframes loader-animate {
            0% {
                transform: rotate(0deg)
            }
            100% {
                transform: rotate(220deg)
            }
        }
        @keyframes loader-animate-after {
            0% {
                box-shadow: inset #fff 0 0 0 17px;
                transform: rotate(-140deg);
            }
            50% {
                box-shadow: inset #fff 0 0 0 2px;
            }
            100% {
                box-shadow: inset #fff 0 0 0 17px;
                transform: rotate(140deg);
            }
        }
    }
&lt;/style>
</code></pre>
<h3>Using the loader in our Laravel application</h3>
<pre><code>&lt;!DOCTYPE html>
&lt;head>
 &lt;meta charset="utf-8"/>
 &lt;meta content="width=device-width, initial-scale=1" name="viewport"/>
&lt;/head>
  
  &lt;body>
    &lt;main id="app">
      @include('flash::message')
      @yield('content')
      {{-- Loader  --}}
      &lt;loader :is-visible="isLoading">&lt;/loader>
  
  &lt;/main>
 
 &lt;/body>
&lt;/html>
</code></pre>
<h2>Call Loader whenever any ajax calls are made</h2>
<p>We will need to make the loader work show that it is shown when any ajax calls are made and remove the loader upon getting a response. While using Vue js with Laravel we mostly use axios for ajax calls. Axios has native functionality to intercept request/responses called interceptors.</p>
<h3>Axios Interceptors</h3>
<p>You can intercept requests or responses to any ajax calls before they are handled by then or catch using interceptors . We will need to remove the request interceptor later on so we will instantiate it and store it as a data axiosInterceptor and just call the response interceptor on mounted() of the main Vue app instance. We are going to define two methods, <code>enableInterceptor</code> to enable the interceptor and `disableInterceptor` to disable the interceptor.</p>
<pre><code>// functions to enable and disable interceptors

// intantiate request interceptor
enableInterceptor() {
  this.axiosInterceptor = window.axios.interceptors.request.use((config) => {/.../});
}
// eject request interceptor
disableInterceptor() {
  window.axios.interceptors.request.eject(this.axiosInterceptor);
}

new Vue({
    el: "#app",
    mounted() {
        this.enableInterceptor()
    },
    data: {
        isLoading: false,
        axiosInterceptor: null,
    },
    methods: {
        enableInterceptor() {
            this.axiosInterceptor = window.axios.interceptors.request.use((config) => {
                this.isLoading = true
                return config
            }, (error) => {
                this.isLoading = false  
                return Promise.reject(error)
            })
            
            window.axios.interceptors.response.use((response) => {
                this.isLoading = false    
                return response
            }, function(error) {
                this.isLoading = false
                return Promise.reject(error)
            })
        },
        
        disableInterceptor() {
            window.axios.interceptors.request.eject(this.axiosInterceptor)
        },     
    },
})
</code></pre>
<h2>Handling Edge Cases</h2>
<p>While showing a loader globally whenever any ajax calls are made is pretty awesome and feels magical, it can have some pitfalls.</p>
<p>For example, I have a slug component that makes an API call to generate a URL on the fly whenever the title changes (i.e on every keypress). However, the loader is shown every time it makes an API call and that is kind of annoying.</p>
<p>To solve this issue we are going to eject the interceptor before making an API call using the <code>disableInterceptor()</code> method described in the above code and re-enable the interceptor after getting a response using the <code>enableInterceptor()</code> method described above.</p>
<pre><code>&lt;template>
    &lt;input type="text" v-model="value">
&lt;/template>

&lt;script type="text/ecmascript-6">
    export default {
        name: "slug",
        props: {
            title:{ default:"" }
            apiUrl: { required: true },
        },
        data() {
            return {
                value: "",
                autoGenerate: true,
            }
        },
        watch: {
            title: {
                handler: function(title) {
                  this.generate(title)
                },
            },
        },
        methods: {
            generate(title) {
                const vm = this
                
                this.$root.disableInterceptor()
                
                window.axios.get(vm.apiUrl, {
                    params: {
                        title: title,
                    },
                }).then(function(response) {
                    vm.value = response.data
                    vm.$emit("change", { "slug": response.data })
                    
                    vm.$root.enableInterceptor()
                }).catch(function(error) {
                    console.error(error)
                    
                    vm.$root.enableInterceptor()
                })
            },
        },
    }
&lt;/script></code></pre>
</div></div></div> <footer class="container"><div class="mx-auto max-w-6xl m-0 border-t"><div class="py-6 flex flex-wrap md:flex-no-wrap justify-between items-center">
            Copyright © 2020, Sandip Shrestha. All rights reserved.
        </div></div></footer></div> <div class="bg-white fixed h-full max-w-sm nav-drawer pl-12 px-6 py-20 right-0 shadow-2xl top-0 z-10" style="width:90%" data-v-56552e09><div class="flex justify-center items-center" style="width:200px" data-v-56552e09><p class="absolute font-sans font-bold text-black uppercase" style="top:42px;left:64px" data-v-56552e09>Navigation</p> <div class="absolute close icon cursor-pointer text-black" data-v-56552e09></div> <ul data-v-56552e09><li data-v-56552e09><a href="/" title="Home" class="text-4xl font-sans uppercase font-bold py-2 block nuxt-link-active" data-v-56552e09>Home</a></li> <li data-v-56552e09><a href="/posts" title="Blog" class="text-4xl font-sans uppercase font-bold py-2 block nuxt-link-active" data-v-56552e09>Blog</a></li> <li data-v-56552e09><a href="/works" title="Work" class="text-4xl font-sans uppercase font-bold py-2 block" data-v-56552e09>Works</a></li> <li data-v-56552e09><a href="/contact" title="Contact" class="text-4xl font-sans uppercase font-bold py-2 block" data-v-56552e09>Contact</a></li></ul></div> <div class="absolute bottom-0 mb-4" data-v-56552e09><span data-v-56552e09><a target="_blank" href="https://www.facebook.com/echo.Punch" title="Facebook" data-v-56552e09>Facebook</a> |
            </span> <span data-v-56552e09><a target="_blank" href="https://twitter.com/san_inmersion" title="Twitter" data-v-56552e09>Twitter</a> |
            </span> <span data-v-56552e09><a target="_blank" href="https://github.com/saninmersion" title="Github" data-v-56552e09>Github</a> |
            </span> <span data-v-56552e09><a target="_blank" href="https://www.linkedin.com/in/sandip-shrestha" title="Linkedin" data-v-56552e09>Linkedin</a></span></div></div> <!----></div></div></div><script>window.__NUXT__={layout:"default",data:[{post:Object.create(null,{default:{writable:!0,enumerable:!0,value:{attributes:{title:"Global Loader Component using Vue.js and Axios Interceptors",image:"global-loader-component-using-vue-and-axios-interceptors.png",excerpt:"Making of a global loader component that will be invoked from anywhere in the app while making ajax calls using Axios interceptors.",published_date:"2019-07-31T00:00:00.000Z",tags:["vue","axios","javascript","loader"],url:"global-loader-component-using-vue-and-axios-interceptors",canonical_url:"https://codeburst.io/global-loader-component-using-vue-js-and-axios-interceptors-3880a136a4ac",subtitle:"Making of a global loader component that will be invoked from anywhere in the app while making ajax calls using Axios interceptors.",featured_image:"/uploads/hourglass.jpg"},html:"<p>We are always optimizing our web pages and applications to open in a zippy. But, sometimes, it is necessary to let the users wait for a brief moment for all the data and pages to load. We will need something to get the users' attention and keep them on the site long enough for all the content to load or to notify them that work is being done in the background.\nOne way to do that is by showing a beautiful, engaging and informative loading animation or loading gif in the website whenever background tasks are running.</p>\n<h2>Loader Component</h2>\n<p><img src=\"/uploads/loader.gif\" alt=\"\"></p>\n<p>Below is the code for a simple Loader component in vue. We have two states isVisible to show/hide the loader and text to define the loading text.</p>\n<pre><code>// Loader Component\n\n&lt;template&gt;\n    &lt;div v-if=&quot;isVisible&quot; class=&quot;loader-overlay&quot;&gt;\n        &lt;div class=&quot;loader&quot;&gt;&lt;/div&gt;\n        &lt;span class=&quot;text&quot; v-html=&quot;text&quot;&gt;&lt;/span&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n    export default {\n        name: &quot;Loader&quot;,\n        props: {\n            isVisible: {type: Boolean, required: true},\n            text: {type: String, required: false, default: &quot;&quot;},\n        },\n}\n&lt;/script&gt;\n\n&lt;style lang=&quot;scss&quot;&gt;\n    .loader-overlay {\n        position: fixed;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, 0.7);\n        z-index: 999;\n        cursor: pointer;\n        span.text {\n            display: inline-block;\n            position: relative;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%,-50%);\n            color: #fff;\n        }\n        .loader {\n            animation: loader-animate 1.5s linear infinite;\n            clip: rect(0, 80px, 80px, 40px);\n            height: 80px;\n            width: 80px;\n            position: absolute;\n            left: calc(50% - 40px);\n            top: calc(50% - 40px);\n            &amp;:after {\n                animation: loader-animate-after 1.5s ease-in-out infinite;\n                clip: rect(0, 80px, 80px, 40px);\n                content: '';\n                border-radius: 50%;\n                height: 80px;\n                width: 80px;\n                position: absolute;\n            }\n        }\n        @keyframes loader-animate {\n            0% {\n                transform: rotate(0deg)\n            }\n            100% {\n                transform: rotate(220deg)\n            }\n        }\n        @keyframes loader-animate-after {\n            0% {\n                box-shadow: inset #fff 0 0 0 17px;\n                transform: rotate(-140deg);\n            }\n            50% {\n                box-shadow: inset #fff 0 0 0 2px;\n            }\n            100% {\n                box-shadow: inset #fff 0 0 0 17px;\n                transform: rotate(140deg);\n            }\n        }\n    }\n&lt;/style&gt;\n</code></pre>\n<h3>Using the loader in our Laravel application</h3>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;head&gt;\n &lt;meta charset=&quot;utf-8&quot;/&gt;\n &lt;meta content=&quot;width=device-width, initial-scale=1&quot; name=&quot;viewport&quot;/&gt;\n&lt;/head&gt;\n  \n  &lt;body&gt;\n    &lt;main id=&quot;app&quot;&gt;\n      @include('flash::message')\n      @yield('content')\n      {{-- Loader  --}}\n      &lt;loader :is-visible=&quot;isLoading&quot;&gt;&lt;/loader&gt;\n  \n  &lt;/main&gt;\n \n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h2>Call Loader whenever any ajax calls are made</h2>\n<p>We will need to make the loader work show that it is shown when any ajax calls are made and remove the loader upon getting a response. While using Vue js with Laravel we mostly use axios for ajax calls. Axios has native functionality to intercept request/responses called interceptors.</p>\n<h3>Axios Interceptors</h3>\n<p>You can intercept requests or responses to any ajax calls before they are handled by then or catch using interceptors . We will need to remove the request interceptor later on so we will instantiate it and store it as a data axiosInterceptor and just call the response interceptor on mounted() of the main Vue app instance. We are going to define two methods, <code>enableInterceptor</code> to enable the interceptor and `disableInterceptor` to disable the interceptor.</p>\n<pre><code>// functions to enable and disable interceptors\n\n// intantiate request interceptor\nenableInterceptor() {\n  this.axiosInterceptor = window.axios.interceptors.request.use((config) =&gt; {/.../});\n}\n// eject request interceptor\ndisableInterceptor() {\n  window.axios.interceptors.request.eject(this.axiosInterceptor);\n}\n\nnew Vue({\n    el: &quot;#app&quot;,\n    mounted() {\n        this.enableInterceptor()\n    },\n    data: {\n        isLoading: false,\n        axiosInterceptor: null,\n    },\n    methods: {\n        enableInterceptor() {\n            this.axiosInterceptor = window.axios.interceptors.request.use((config) =&gt; {\n                this.isLoading = true\n                return config\n            }, (error) =&gt; {\n                this.isLoading = false  \n                return Promise.reject(error)\n            })\n            \n            window.axios.interceptors.response.use((response) =&gt; {\n                this.isLoading = false    \n                return response\n            }, function(error) {\n                this.isLoading = false\n                return Promise.reject(error)\n            })\n        },\n        \n        disableInterceptor() {\n            window.axios.interceptors.request.eject(this.axiosInterceptor)\n        },     \n    },\n})\n</code></pre>\n<h2>Handling Edge Cases</h2>\n<p>While showing a loader globally whenever any ajax calls are made is pretty awesome and feels magical, it can have some pitfalls.</p>\n<p>For example, I have a slug component that makes an API call to generate a URL on the fly whenever the title changes (i.e on every keypress). However, the loader is shown every time it makes an API call and that is kind of annoying.</p>\n<p>To solve this issue we are going to eject the interceptor before making an API call using the <code>disableInterceptor()</code> method described in the above code and re-enable the interceptor after getting a response using the <code>enableInterceptor()</code> method described above.</p>\n<pre><code>&lt;template&gt;\n    &lt;input type=&quot;text&quot; v-model=&quot;value&quot;&gt;\n&lt;/template&gt;\n\n&lt;script type=&quot;text/ecmascript-6&quot;&gt;\n    export default {\n        name: &quot;slug&quot;,\n        props: {\n            title:{ default:&quot;&quot; }\n            apiUrl: { required: true },\n        },\n        data() {\n            return {\n                value: &quot;&quot;,\n                autoGenerate: true,\n            }\n        },\n        watch: {\n            title: {\n                handler: function(title) {\n                  this.generate(title)\n                },\n            },\n        },\n        methods: {\n            generate(title) {\n                const vm = this\n                \n                this.$root.disableInterceptor()\n                \n                window.axios.get(vm.apiUrl, {\n                    params: {\n                        title: title,\n                    },\n                }).then(function(response) {\n                    vm.value = response.data\n                    vm.$emit(&quot;change&quot;, { &quot;slug&quot;: response.data })\n                    \n                    vm.$root.enableInterceptor()\n                }).catch(function(error) {\n                    console.error(error)\n                    \n                    vm.$root.enableInterceptor()\n                })\n            },\n        },\n    }\n&lt;/script&gt;</code></pre>\n"}},attributes:{writable:!0,enumerable:!0,value:{title:"Global Loader Component using Vue.js and Axios Interceptors",image:"global-loader-component-using-vue-and-axios-interceptors.png",excerpt:"Making of a global loader component that will be invoked from anywhere in the app while making ajax calls using Axios interceptors.",published_date:"2019-07-31T00:00:00.000Z",tags:["vue","axios","javascript","loader"],url:"global-loader-component-using-vue-and-axios-interceptors",canonical_url:"https://codeburst.io/global-loader-component-using-vue-js-and-axios-interceptors-3880a136a4ac",subtitle:"Making of a global loader component that will be invoked from anywhere in the app while making ajax calls using Axios interceptors.",featured_image:"/uploads/hourglass.jpg"}},html:{writable:!0,enumerable:!0,value:"<p>We are always optimizing our web pages and applications to open in a zippy. But, sometimes, it is necessary to let the users wait for a brief moment for all the data and pages to load. We will need something to get the users' attention and keep them on the site long enough for all the content to load or to notify them that work is being done in the background.\nOne way to do that is by showing a beautiful, engaging and informative loading animation or loading gif in the website whenever background tasks are running.</p>\n<h2>Loader Component</h2>\n<p><img src=\"/uploads/loader.gif\" alt=\"\"></p>\n<p>Below is the code for a simple Loader component in vue. We have two states isVisible to show/hide the loader and text to define the loading text.</p>\n<pre><code>// Loader Component\n\n&lt;template&gt;\n    &lt;div v-if=&quot;isVisible&quot; class=&quot;loader-overlay&quot;&gt;\n        &lt;div class=&quot;loader&quot;&gt;&lt;/div&gt;\n        &lt;span class=&quot;text&quot; v-html=&quot;text&quot;&gt;&lt;/span&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n    export default {\n        name: &quot;Loader&quot;,\n        props: {\n            isVisible: {type: Boolean, required: true},\n            text: {type: String, required: false, default: &quot;&quot;},\n        },\n}\n&lt;/script&gt;\n\n&lt;style lang=&quot;scss&quot;&gt;\n    .loader-overlay {\n        position: fixed;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, 0.7);\n        z-index: 999;\n        cursor: pointer;\n        span.text {\n            display: inline-block;\n            position: relative;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%,-50%);\n            color: #fff;\n        }\n        .loader {\n            animation: loader-animate 1.5s linear infinite;\n            clip: rect(0, 80px, 80px, 40px);\n            height: 80px;\n            width: 80px;\n            position: absolute;\n            left: calc(50% - 40px);\n            top: calc(50% - 40px);\n            &amp;:after {\n                animation: loader-animate-after 1.5s ease-in-out infinite;\n                clip: rect(0, 80px, 80px, 40px);\n                content: '';\n                border-radius: 50%;\n                height: 80px;\n                width: 80px;\n                position: absolute;\n            }\n        }\n        @keyframes loader-animate {\n            0% {\n                transform: rotate(0deg)\n            }\n            100% {\n                transform: rotate(220deg)\n            }\n        }\n        @keyframes loader-animate-after {\n            0% {\n                box-shadow: inset #fff 0 0 0 17px;\n                transform: rotate(-140deg);\n            }\n            50% {\n                box-shadow: inset #fff 0 0 0 2px;\n            }\n            100% {\n                box-shadow: inset #fff 0 0 0 17px;\n                transform: rotate(140deg);\n            }\n        }\n    }\n&lt;/style&gt;\n</code></pre>\n<h3>Using the loader in our Laravel application</h3>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;head&gt;\n &lt;meta charset=&quot;utf-8&quot;/&gt;\n &lt;meta content=&quot;width=device-width, initial-scale=1&quot; name=&quot;viewport&quot;/&gt;\n&lt;/head&gt;\n  \n  &lt;body&gt;\n    &lt;main id=&quot;app&quot;&gt;\n      @include('flash::message')\n      @yield('content')\n      {{-- Loader  --}}\n      &lt;loader :is-visible=&quot;isLoading&quot;&gt;&lt;/loader&gt;\n  \n  &lt;/main&gt;\n \n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h2>Call Loader whenever any ajax calls are made</h2>\n<p>We will need to make the loader work show that it is shown when any ajax calls are made and remove the loader upon getting a response. While using Vue js with Laravel we mostly use axios for ajax calls. Axios has native functionality to intercept request/responses called interceptors.</p>\n<h3>Axios Interceptors</h3>\n<p>You can intercept requests or responses to any ajax calls before they are handled by then or catch using interceptors . We will need to remove the request interceptor later on so we will instantiate it and store it as a data axiosInterceptor and just call the response interceptor on mounted() of the main Vue app instance. We are going to define two methods, <code>enableInterceptor</code> to enable the interceptor and `disableInterceptor` to disable the interceptor.</p>\n<pre><code>// functions to enable and disable interceptors\n\n// intantiate request interceptor\nenableInterceptor() {\n  this.axiosInterceptor = window.axios.interceptors.request.use((config) =&gt; {/.../});\n}\n// eject request interceptor\ndisableInterceptor() {\n  window.axios.interceptors.request.eject(this.axiosInterceptor);\n}\n\nnew Vue({\n    el: &quot;#app&quot;,\n    mounted() {\n        this.enableInterceptor()\n    },\n    data: {\n        isLoading: false,\n        axiosInterceptor: null,\n    },\n    methods: {\n        enableInterceptor() {\n            this.axiosInterceptor = window.axios.interceptors.request.use((config) =&gt; {\n                this.isLoading = true\n                return config\n            }, (error) =&gt; {\n                this.isLoading = false  \n                return Promise.reject(error)\n            })\n            \n            window.axios.interceptors.response.use((response) =&gt; {\n                this.isLoading = false    \n                return response\n            }, function(error) {\n                this.isLoading = false\n                return Promise.reject(error)\n            })\n        },\n        \n        disableInterceptor() {\n            window.axios.interceptors.request.eject(this.axiosInterceptor)\n        },     \n    },\n})\n</code></pre>\n<h2>Handling Edge Cases</h2>\n<p>While showing a loader globally whenever any ajax calls are made is pretty awesome and feels magical, it can have some pitfalls.</p>\n<p>For example, I have a slug component that makes an API call to generate a URL on the fly whenever the title changes (i.e on every keypress). However, the loader is shown every time it makes an API call and that is kind of annoying.</p>\n<p>To solve this issue we are going to eject the interceptor before making an API call using the <code>disableInterceptor()</code> method described in the above code and re-enable the interceptor after getting a response using the <code>enableInterceptor()</code> method described above.</p>\n<pre><code>&lt;template&gt;\n    &lt;input type=&quot;text&quot; v-model=&quot;value&quot;&gt;\n&lt;/template&gt;\n\n&lt;script type=&quot;text/ecmascript-6&quot;&gt;\n    export default {\n        name: &quot;slug&quot;,\n        props: {\n            title:{ default:&quot;&quot; }\n            apiUrl: { required: true },\n        },\n        data() {\n            return {\n                value: &quot;&quot;,\n                autoGenerate: true,\n            }\n        },\n        watch: {\n            title: {\n                handler: function(title) {\n                  this.generate(title)\n                },\n            },\n        },\n        methods: {\n            generate(title) {\n                const vm = this\n                \n                this.$root.disableInterceptor()\n                \n                window.axios.get(vm.apiUrl, {\n                    params: {\n                        title: title,\n                    },\n                }).then(function(response) {\n                    vm.value = response.data\n                    vm.$emit(&quot;change&quot;, { &quot;slug&quot;: response.data })\n                    \n                    vm.$root.enableInterceptor()\n                }).catch(function(error) {\n                    console.error(error)\n                    \n                    vm.$root.enableInterceptor()\n                })\n            },\n        },\n    }\n&lt;/script&gt;</code></pre>\n"}}),canonical:"https://codeburst.io/global-loader-component-using-vue-js-and-axios-interceptors-3880a136a4ac"}],fetch:[],error:null,state:{isProgressBarVisible:!0},serverRendered:!0,routePath:"/posts/global-loader-component-using-vue-and-axios-interceptors"}</script><script src="/_nuxt/3213b8a640c84a0f40dd.js" defer></script><script src="/_nuxt/c60fc827688ff7bac84d.js" defer></script><script src="/_nuxt/ef795ee9faac29d34ba2.js" defer></script><script src="/_nuxt/286c9011147357c678b8.js" defer></script><script src="/_nuxt/b356b1a74ade292a0927.js" defer></script>
  </body>
</html>
